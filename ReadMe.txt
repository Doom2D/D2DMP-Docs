Doom 2D Multiplayer 0.6 (Сборка 128)
=*=*=*=*=*=*=*=*=*=
Doom 2D Multiplayer (Doom2DMP, D2DMP) - это сетевой мультиплеерный римейк старой доброй игрушки Doom 2D, написанный на Game Maker.
Данная версия отличается от предыдущих переработанным с нуля сетевым кодом, наличием всех типов оружия из оригинала и многим другим. Конкретные различия можно найти самим при наличии достаточного количества терпения и времени. %)
Доступно три режима игры:
	DeathMatch (DM) - стандартная мясорубка по принципу "каждый сам за себя";
	Team DeathMatch (TDM) - мясорубка с распределением игроков на команды;
	Capture The Flag (CTF) - суть: крадем флаги, отбиваемся от преследования, приносим флаги, прожигаем жизнь.
Если вам надоели стандартные карты, то вы можете попробовать себя на поприще создания карт, благо есть удобный редактор и руководство к нему (Editor_Manual.txt, смотреть в папке docs). Также можно создавать собственные скины для Doom2DMP. Пример INFO-файла скина также находится в папке docs.
Описания консольных команд клиента и руководство по работе с сервером находятся, опять же, в папке docs (Client_Manual.txt и Server_Manual.txt соответственно).
=*=*=*=*=*=*=*=*=*=
История изменений:

СБОРКА 128:

	- обновлен мастерсервер;
	- переписан протокол передачи карт;
	- изменен порядок отрисовки объектов в редакторе и клиенте;
	- добавлена возможность свободного обзора при просмотре записей геймплея;
	- добавлен новый предмет "Костюм" - защищает игрока от урона в кислоте на 30 секунд;
	- добавлена возможность отражать объекты карты в редакторе;
	- добавлена возможность привязки предметов в редакторе за нижнюю сторону спрайта;
	- добавлена возможность сохранять схему карты в редакторе;
	- добавлена возможность отключения автосохранения файла конфигурации сервера после его остановки;
	- исправлена физика игрока в жидкостях небольшой высоты;
	- исправлено исчезновение снарядов ракетницы, плазмагана и BFG;
	- исправлено нанесение урона игроку, выстрелившему из BFG в кислоте;
	- исправлено изменение некоторых параметров в настройках во время игры;
	- множество прочих исправлений и добавлений различной степени важности.
*-*-*-*-*-*-*
СБОРКА 127:

	- сетевая система перенесена с 39dll на 39dylib;
	- добавлены триггеры для карт;
	- добавлена возможность записи и последующего воспроизведения игрового процесса ("демки");
	- добавлена интерполяция движения игрока в клиенте;
	- добавлена возможность отключения обработки физики на стороне клиента;
	- добавлено два новых типа нанесения урона от попадающих в воду снарядов плазмагана и BFG;
	- добавлена возможность голосования за выполнение определенной команды на сервере;
	- добавлена возможность создания отдельных файлов конфигурации для отдельных карт;
	- добавлен новый предмет - невидимость;
	- изменены некоторые звуки в клиенте;
	- добавлена возможность отключения HUD'а в клиенте;
	- полностью переписана система меню в клиенте;
	- добавлен эффект респауна предметов в клиенте;
	- теперь лимиты очков на сервере для каждого из режимов игры задаются отдельными параметрами;
	- добавлено отображение аббревиатуры режима игры в HUD'е;
	- теперь сервер выводит краткую информацию о своем состоянии в панель задач в режиме -nogui;
	- добавлены "горячие клавиши" для управления сервером (доступны только в режиме -nogui);
	- добавлена возможность удаления текстур из списка в редакторе;
	- в редактор добавлены оптимизаторы неиспользуемых текстур и лишних тайлов;
	- многие стандартные карты подверглись переработке и оптимизации;
	- в стандартный комплект текстур добавлены анимированные текстуры;
	- исправлен недочет сетевого протокола, из-за которого можно было получить контроль над другим игроком;
	- исправлено проваливание игроков сквозь ступени;
	- прочие добавления и исправления, которые невозможно было упомнить ввиду их необозримого количества.
*-*-*-*-*-*-*
СБОРКА 126:

	- мастерсервер перенесен на другой хост (94.19.235.229:25667);
	- добавлена возможность отключения красных вспышек экрана;
	- добавлена возможность ввода команды в сервере по Enter'у;
	- исправлен респаун флага при выпадении несущего его игрока за карту;
	- исправлен урон от собственных ракет при выключенном огне своих (friendlyfire) в командных режимах;
	- исправлен баг с невидимостью 16-ти верхних пикселей карты;
	- оптимизирован код отрисовки в клиенте и редакторе карт;
	- немного незначительных исправлений.
*-*-*-*-*-*-*
СБОРКА 125:

	- новые режимы игры: TDM и CTF;
	- серверлист на PHP-скриптах заменен на полноценный мастерсервер;
	- сервер теперь получает свой внешний IP с мастерсервера;
	- размер игрока изменен на 33x52;
	- бутылек и черепок теперь дают по 4 HP и 5 AP соответственно;
	- добавлены красные вспышки экрана при боли;
	- добавлена возможность смены используемого сервером порта;
	- добавлена вертикальная синхронизация в клиенте и возможность ее отключения;
	- добавлено комментирование игрового процесса;
	- переписан код прокрутки рабочего поля в редакторе;
	- изменено управление в редакторе;
	- добавлена возможность добавления сразу нескольких текстур в список в редакторе;
	- новые алгоритмы коррекции FPS в клиенте и сервере;
	- добавлена возможность автоматической смены режима игры по префиксу в имени файла карты;
	- добавлена статистика по карте в редакторе;
	- добавлена кнопка перезагрузки интерфейса в редакторе;
	- исправлен баг в редакторе с некорректным размером главного окна после запуска;
	- теперь скачивающие карту с сервера игроки не видны другим игрокам на сервере;
	- добавлено автоматическое переподключение игрока к серверу после скачивания им карты;
	- убрано отклонение горизонтально летящих снарядов в горизонтальных лифтах;
	- добавлена возможность перезаписи лога сервера им же при каждом новом раунде;
	- во всех меню в клиенте убрана кнопка "Назад";
	- в HUD'е теперь отображается фраглимит;
	- увеличен размер панели инструментов в редакторе;
	- исправлено повторение предыдущей карты при случайном режиме выбора на сервере;
	- теперь при mp_flymode = 1 физика полета такая же, как и при обычном джетпаке;
	- добавлена команда repack на сервере, перезапаковывающая карту заново;
	- добавлена возможность отключения проверки карт по MD5 на сервере;
	- добавлена возможность более гибкой настройки сетки в редакторе;
	- UDP и порт 25667 больше не используются сервером за ненадобностью;
	- прочие исправления/добавления различной степени важности, общее количество которых не поддается какому-либо исчислению.
*-*-*-*-*-*-*
СБОРКА 124:
	//сервисная сборка
	- исправлены некоторые карты;
	- текст сообщений в клиенте теперь отбрасывает тень;
	- исправлена команда cl_setval;
	- исправлен размер игрока;
	- слегка поправлена физика;
	- изменен экран со списком авторов;
	- несколько других незначительных исправлений.
*-*-*-*-*-*-*
СБОРКА 123:

	- интерфейс сервера сделан через WinAPI;
	- добавлены бонусы "Бутылек +1 HP" и "Черепок +1 AP";
	- изменен ИИ у ботов;
	- реализована смена карты на сервере без его перезапуска;
	- реализована передача отсутствующих у игроков карт сервером;
	- новое управление в редакторе;
	- реализована очистка рабочего поля в редакторе без его перезапуска;
	- новые способы синхронизации;
	- реализована проверка наличия необходимых файлов перед запуском;
	- сделана возможность смены разрешения экрана в клиенте;
	- урон от плазмагана уменьшен до 10 HP;
	- некоторые изменения в алгоритме работы BFG;
	- изменяемый лимит FPS у сервера;
	- добавлена коррекция FPS у клиента и сервера;
	- при mp_timelimit 0 или mp_fraglimit 0 игра идет без соответствующего лимита;
	- добавлены новые карты;
	- очень много других исправлений и добавлений.
*-*-*-*-*-*-*
СБОРКА 122:

	- изменен синтаксис команды bot_add, у параметра sv_cycle_map добавлено значение для случайного выбора карты из списка;
	- добавлена команда bot_kick - удаляет всех ботов с сервера;
	- алгоритм работы BFG изменен;
	- боты теперь не реагируют на игроков, у которых включен чат;
	- оптимизированные кровь, трупы и куски;
	- дым теперь немного красивее;
	- изменен фон в редакторе;
	- длина одного сообщения в чате теперь ограничена сотней символов;
	- сделана англоязычная версия;
	- множество прочих добавлений плюс исправлено такое же множество багов. Извините, но всего не упомнить.
*-*-*-*-*-*-*
СБОРКА 121:

	- боты используют случайный скин и ник;
	- рабочая система определения пинга;
	- возможность изменять кнопку снятия скриншота;
	- возможность менять скин/цвет/ник во время игры;
	- берсерк не меняет оружие на кастет при повторном подборе;
	- состояния неуязвимости и берсерка теперь определяются в том же пакете, где патроны и HP;
	- эффект от берсерка на игроке (темно-красный дым);
	- при неуязвимости цвет сообщений сверху меняется на черный;
	- выброшенное убитым игроком оружие исчезает по истечении определенного времени (параметр mp_drop_clear 0-300);
	- за самоубийство снимаются фраги (параметр mp_penalty 0-1);
	- значок над головой игрока, открывшего чат/консоль;
	- исправления в работе консоли в клиенте;
	- нет эффекта от воды, если ствол BFG находится вне ее;
	- боты теперь пытаются использовать холодное оружие на маленьких расстояниях и не застревать;
	- фон растягивается только на игровую зону (из-за этого есть маленький неисправляемый графический баг при переходе в игру из меню);
	- frameskip;
	- поднят новый серверлист на doom2d.org;
	- удален данмаку-режим;
	- поправлен урон у ракетницы (из-за этого максимальный урон теперь ~85);
	- поправлена пара надписей;
	- поправлен выстрел из BFG;
	- уменьшен радиус поражения BFG;
	- отброс игрока от попадания в него снаряда BFG;
	- поправлена смена оружия на BFG и двустволку;
	- возможность отключить ИИ у ботов (параметр bot_dummy 0-1);
	- сервер определяет время до переподключения клиентов (параметр cl_rc_time 0-60);
	- исправлены некоторые баги с чатом;
	- исправлены editbox'ы в редакторе;
	- NO_TEXTURE.png заменен на полностью прозрачный квадрат 16х16 для создания невидимых тайлов;
	- функция быстрой синхронизации с серверлистом на сервере (команда resync);
	- прочие исправления/добавления.
*-*-*-*-*-*-*
СБОРКА 120:
	//сервисная сборка
	- удалены глючные анимтекстуры (читай: все стандартные анимтекстуры);
	- исправлена одна незначительная ошибка в руководстве по редактору;
	- исправлено большинство стандартных карт;
	- теперь в стандартный комплект карт входят только те карты, которые используют стандартные ресурсы.
*-*-*-*-*-*-*
СБОРКА 119:
	//сервисная сборка
	- поправлен баг с выбрасыванием оружия при weaponstay;
	- поправлен баг с неработающим в кислоте оружием ближнего боя;
	- сервер теперь пишет mp_itemdrop в server.cfg.
*-*-*-*-*-*-*
СБОРКА 118:

	- сервер проверяет, открыты ли порты (параметр sv_portcheck);
	- возможность выключить выброс всего оружия, что имелось у игрока, после его смерти;
	- weaponstay (параметр mp_weaponstay);
	- анимтекстуры с прозрачностью (но реализация плохая);
	- новые функции в редакторе;
	- скриншоты сохраняются в папку screenshots;
	- данмаку-режим (параметр mp_danmaku);
	- оптимизированная и починенная dm_superdm;
	- починены баги в меню;
	- pain не отображается при бессмертии;
	- починен mp_flymode;
	- после неуязвимости HP не сбрасывается до 100;
	- поправлена die.tga у модельки думера;
	- поправлено поведение игрока в воде (окончательно);
	- более симпатичный серверлист;
	- серверлист не выводит html-код при ошибке;
	- серверлист рисует соответствующую надпись, если в списке нет серверов;
	- боты не пишут насмешки в чат, когда убивают себя сами;
	- поправлено поведение трупов и кусков в лифтах;
	- поправлен баг с загрузкой несуществующих текстур в редакторе;
	- консоль не открывается, если включен режим чата;
	- кнопки управления в меню серверлиста не работают при открытой консоли;
	- что-то еще. Я не помню, что я делал еще, честное пионерское.
*-*-*-*-*-*-*
СБОРКА 117:

	- серверлист;
	- новое управление в редакторе;
	- команда r_gfx также влияет на трупы и тайлы фона;
	- карта dm_df1 (оптимизирована - удалены ненужные, но тормозящие карту тайлы, итого размер уменьшился с 64 кб до 32);
	- исправлен dm_bloodbath;
	- починено поведение игрока на поверхности воды;
	- в редакторе невидимые тайлы (находящиеся в скрытом слое) не удаляются;
	- из игрока выпадает все оружие + рюкзак (если есть) при смерти.
*-*-*-*-*-*-*
СБОРКА 116:

	- починено удаление наложенных друг на друга тайлов одного типа в редакторе, клиенте и сервере при загрузке;
	- изменена функция кнопки Q в редакторе;
	- в редакторе больше нет багов со спамом тайлами;
	- поправленная superdm;
	- поправлен вылет с консольными переменными в клиенте;
	- поправлено поведение думера на поверхности жидкостей;
	- карта bloodbath;
	- сервер при запуске выводит свою версию;
	- поддержка анимированных gif;
	- в случае отсутствия текстуры, клиент грузит текстуру NO_TEXTURE.png;
	- папка с текстурами отсортирована.
*-*-*-*-*-*-*
СБОРКА 115:

	- читы;
	- клиент удаляет скины из памяти после конца раунда;
	- выключен debug mode, т.е. теперь при GM'овских ошибках в коде игра молча вываливается, а ошибку пишет в game_errors.log;
	- при смене оружия пропускается то, к которому нет патронов;
	- нельзя менять оружие, пока то, что в руках, перезаряжается/стреляет;
	- берсерк теперь не сбрасывает HP до 100, когда оно больше 100;
	- починен вылет при определенных обстоятельствах при сообщении о гибели игрока с высоким пингом;
	- починен баг, когда игрок задыхался раньше времени;
	- починен (по-моему) сплэш-урон от BFG;
	- починен баг со сменой оружия в поведении ботов;
	- починен баг, когда боты упирались в противоположные направлению их движения горизонтальные лифты;
	- починена пара багов в редакторе, приводящая к спаму тайлами с зажатым шифтом;
	- удалена карта rj_heaven;
	- починена лестница справа на superdm.
*-*-*-*-*-*-*
СБОРКА 114:

	- релиз версии 0.6.
=*=*=*=*=*=*=*=*=*=
Авторы:

Программист и автор проекта: PrimuS
Художники: Черный Думер, ar888
Тестеры: Черный Думер, ar888, Jabberwock

Исходники игры находятся в папке "sources". Вы можете использовать их в своих целях при условии сохранения оригинального авторства.
Исходники предназначены ТОЛЬКО для Game Maker 8.0.
	d2dmp_cl.gmk - исходник клиента (Doom2DMP.exe)
	d2dmp_sv.gmk - исходник сервера (Server.exe)
	d2dmp_ed.gmk - исходник редактора карт (MapEditor.exe)
Для использования поместите их в один каталог с папкой data и следующими DLL-библиотеками: 7z.dll, fmodex.dll, GMFMODSimple.dll, Max WinAPI 2.dll.

Игра использует файлы 7z.exe и 7z.dll, распространяемые по особой лицензии. Вы можете прочесть ее в docs\7z_License.txt.
=*=*=*=*=*=*=*=*=*=
Ссылки:

Ветка на официальном форуме Doom 2D Forever: http://doom2d.org/forum/viewforum.php?f=19
	(здесь можно узнать IP-адреса работающих серверов и много другой полезной информации)
Страница игры на Doom Power: http://www.iddqd.ru/adoom.php?find=Doom%202D%20Multiplayer
Тема на форуме Doom Power (IDDQD): http://i.iddqd.ru/viewtopic.php?t=2501

/// 10.04.2013