"Инструкция по эксплуатации" сервера Doom 2D Multiplayer 0.6 (Server.exe)
Написал Черный Думер.
=*=*=*=*=*=*=*=*=*=
СОДЕРЖАНИЕ:
1) Описание окна сервера
2) Описание консольных команд сервера
3) Описание конфигурационных файлов сервера
4) Описание параметров конфигурации сервера
5) "Горячие клавиши" сервера
6) Чего НЕ РЕКОМЕНДУЕТСЯ делать
=*=*=*=*=*=*=*=*=*=
1) ОПИСАНИЕ ОКНА СЕРВЕРА
Это небольшое окно с консолью сервера, некоторой информацией о нем и строкой ввода команд, рядом с которой находятся две кнопки. Первая кнопка (">>") применяет введенную команду. Вторая ("<<") копирует в строку ввода предыдущую команду. Также для применения введенной команды можно использовать кнопку Enter (курсор ввода при этом должен находиться в конце строки, в противном же случае нажатие кнопки сначала переместит его туда без применения команды).
Сервер можно запустить без интерфейса, то есть в фоновом режиме. Для этого предусмотрены две команды при запуске:
	-nogui - отключить только интерфейс (сервер будет виден в панели задач)
	-q - "тихий" режим (сервер будет виден только в диспетчере процессов операционной системы)
* * * * * * * * * *

2) ОПИСАНИЕ КОНСОЛЬНЫХ КОМАНД СЕРВЕРА
clist - вывести список подключенных игроков (вместе с ботами)
echo STR - вывести строку STR в консоль
help - вывести список консольных команд с описаниями (неполный)
kick X - отключить клиента из слота X
ban X - забанить клиента из слота X по IP и отключить его от сервера
ban_reload - перезагрузить список забаненных
plugins_reload - выгрузить все плагины и загрузить указанные в списке автоматически загружаемых
exit/quit - выключить сервер
die - выключить сервер, не сохраняя конфигурацию
restart 0/1 - перезапустить сервер (при 0 или отсутствии аргумента перед перезапуском будет сохранена конфигурация, при 1 - нет)
cfg_load NAME - загрузить конфигурацию из файла NAME.cfg
cfg_save NAME - сохранить конфигурацию в файл NAME.cfg
	При отсутствии аргумента NAME операция будет произведена со стандартным файлом конфигурации server.cfg.
bot_add N S C T - добавить бота с псевдонимом N, скином S и цветом брони C в команду T (1 - красная, 2 - синяя)
	Цвет определяется его TrueColor-индексом (диапазон 0-16777215)
	Если вместо одного из значений поставить символ [*] ("звездочка"), то оно задастся случайно. То же самое произойдет при неправильном значении.
	Если же вообще не указывать ни одно из значений, то они все зададутся случайно.
		RGB-значения пересчитываются в TrueColor-индекс по следующей формуле:
		Индекс = Blue * 65536 + Green * 256 + Red
addbot N S C T - аналог bot_add
bot_kick - удалить всех ботов с сервера
bot_dummy 0/1 - вкл/выкл искусственный интеллект (ИИ) у ботов
mp_godmode 0/1 - вкл/выкл неуязвимость у всех игроков на сервере
mp_flymode 0/1 - вкл/выкл режим полета у всех игроков на сервере
plugin_load DIR - загрузить плагин из папки DIR (должна находиться в папке data\plugins\)
plugin_unload DIR - выгрузить плагин, загруженный из папки DIR
plugin_stat DIR - вывести в консоль краткую информацию о плагине, загруженном из папки DIR
plugin_list - вывести в консоль список загруженных плагинов
say STR - написать строку STR в чат от имени сервера
sv_map > - сменить карту на следующую в списке (при sv_cycle_maps = 1) или на случайную из него (при sv_cycle_maps = 2)
sv_map * - перезапустить текущую карту и начать новый раунд
resync - произвести синхронизацию с серверлистом
repack - перезапаковать карту
ip_update - перезапросить внешний IP сервера у мастерсервера (в случае неудачи будет указан локальный)
cl_setval ID ARG VAL - изменить значение аргумента ARG у игрока из слота ID на значение VAL
	Аргументы, значения которых можно изменить:
	hp - здоровье
	ap - броня
	frag - количество фрагов
	team - команда, в которой находится игрок (VAL: 1 - красная, 2 - синяя)
	jet - наличие Jetpack'а (VAL: 0 - нету, 1 - есть)
	inv - наличие неуязвимости (VAL: 0 - нету, 1 - есть)
	vis - наличие невидимости (VAL: 0 - нету, 1 - есть)
	suit - наличие костюма (VAL: 0 - нету, 1 - есть)
	ber - наличие берсерка (VAL: 0 - нету, 1 - есть)
	bpk - наличие рюкзака (VAL: 0 - нету, 1 - есть)
	wX - наличие оружия (вместо X - номер оружия) (VAL: 0 - нету, 1 - есть)
		Номера оружия:
		2 - ружье;
		3 - двустволка;
		4 - пулемет;
		5 - ракетница;
		6 - плазмаган;
		7 - BFG;
		8 - суперпулемет;
		9 - бензопила.
	aX - количество патронов (вместо X - номер типа патронов) (VAL определяет количество)
		Номера типов патронов:
		1 - патроны (пистолет/пулемет)
		2 - гильзы (ружье/двустволка)
		3 - ракеты (ракетница)
		4 - батареи (плазмаган/BFG)
	ВНИМАНИЕ: данные таким образом игроку Jetpack, неуязвимость, невидимость или костюм будут работать до тех пор, пока игрок не погибнет!
	Если же вместо аргумента ввести "help" (без кавычек), то в консоль будет выведен краткий список изменяемых командой cl_setval аргументов.
%параметр_конфигурации_сервера% - вывести в консоль значение введенного параметра
%параметр_конфигурации_сервера% %значение% - присвоить введенному параметру введенное значение (не для всех параметров)
* * * * * * * * * *

3) ОПИСАНИЕ КОНФИГУРАЦИОННЫХ ФАЙЛОВ СЕРВЕРА
Все конфигурационные файлы сервера находятся в папке data\cfg.
mapcfg\ - папка с конфигурационными файлами для отдельных карт, загружаемыми после загрузки основной конфигурации и основного autoexec.cfg при sv_autoexec = 2. Для загрузки у файла конфигурации должно быть то же самое название (за исключением расширения), что и у файла загружаемой карты.
server.cfg - основной конфигурационный файл сервера, определяющий его параметры
autoexec.cfg - список консольных команд, выполняемых сразу же после загрузки карты
map_list.txt - карты, которые сервер загружает при каждом новом раунде
ip_bans.txt - банлист (список забаненных IP-адресов)
blacklist.txt - выражения, запрещенные в голосовании (запрет определяется по частичному совпадению, для запрета отдельной команды нужно после нее в списке поставить пробел (пример: "sv_rcon "))
plugins.txt - список папок плагинов, которые сервер должен автоматически загружать при запуске
bot_names.txt - имена ботов
bot_skins.txt - список скинов, которые будут использовать боты
bot_chatter.txt - реплики, которые "пишут" боты в чат
* * * * * * * * * *

4) ОПИСАНИЕ ПАРАМЕТРОВ КОНФИГУРАЦИИ СЕРВЕРА
sv_map NAME MODE - запустить на сервере карту NAME.dlv. MODE - необязательный параметр, устанавливающий режим игры, перекрывая при этом значения параметров mp_gamemode и mp_automode. Может принимать одно из следующих значений:
	dm - режим DeathMatch
	tdm - режим Team DeathMatch
	ctf - режим Capture The Flag
sv_name STR - название сервера (STR - изменяемый аргумент)
sv_port 10000-65535 - номер порта, используемого сервером
sv_welcome STR - приветственное сообщение при входе на сервер (STR - изменяемый аргумент)
sv_maxplayers 1-24 - максимум игроков на сервере
sv_clalert 0/1 - вкл/выкл звуковой сигнал при подключении клиента
sv_use_pwd 0/1 - вкл/выкл использование пароля
sv_password PWD - пароль сервера (PWD - изменяемый аргумент)
sv_lan 0/1 - вкл/выкл запрос внешнего IP-адреса с мастерсервера и синхронизацию с ним, а также проверку портов на доступность (для игр по локальной сети)
sv_portcheck 0/1 - вкл/выкл проверку портов на доступность
sv_rcon 0/1 - вкл/выкл использование RCON
sv_rcon_pwd PWD - RCON-пароль сервера (PWD - изменяемый аргумент)
sv_ipbans 0/1 - вкл/выкл загрузку банлиста из ipbans.txt
sv_cycle_maps 0-2 - вкл/выкл загрузку списка карт для каждого нового раунда из map_list.txt
	Возможные значения:
	0 - список карт выключен, каждый новый раунд начинается на одной и той же карте, предварительно заданной в sv_map
	1 - список карт включен, карты чередуются строго по порядку
	2 - список карт включен, карты выбираются случайно
sv_cheats 0/1 - вкл/выкл чит-коды
sv_mastersrv ADR - адрес хоста, на котором находится мастерсервер (ADR - изменяемый аргумент)
sv_slist_upd 5-60 - задержка перед следующей синхронизацией с серверлистом (в секундах)
sv_sync_type 0-2 - тип синхронизации сервера с игроками
	Возможные значения:
	0 - при получении от игрока пакета с командами сервер ретранслирует его остальным вместе с координатами игрока
	1 - то же самое, что и при 0, но вместе с координатами отправляется и скорость
	2 - состояние игрока вместе с его координатами и скоростью отсылается другим с указанной частотой синхронизации (см. sv_rate)
sv_rate 1-64 - частота синхронизации сервера с игроками при sv_sync_type = 2
sv_voting 0/1 - вкл/выкл возможность голосования игроков за выполнение команд на сервере
sv_voting_time 10-90 - время, отведенное на голосование (в секундах)
sv_fps_max 20-120 - лимит FPS на сервере
sv_fps_correct 0/1 - вкл/выкл коррекцию FPS
sv_dl_allow 0/1 - вкл/выкл передачу карт игрокам
sv_dl_rate 1-256 - скорость передачи карт (конечная скорость будет равна FPS / sv_rate * sv_dl_rate байт/сек)
sv_dl_mapcfg 0/1 - вкл/выкл добавление файла конфигурации карты в архив с нею для передачи
sv_md5check 0/1 - вкл/выкл проверку карт по MD5 у подключающихся клиентов
sv_autosave 0/1 - вкл/выкл автоматическое сохранение файла конфигурации сервера при его остановке
sv_log_update 0/1 - вкл/выкл перезапись лога сервера при начале каждого нового раунда
sv_autoexec 0-2 - режим автоматической загрузки дополнительных файлов конфигурации
	Возможные значения:
	0 - автоматическая загрузка дополнительных файлов конфигурации отключена
	1 - после загрузки основной конфигурации будет загружен файл autoexec.cfg
	2 - после загрузки основной конфигурации и файла autoexec.cfg будет загружен файл [имя_файла_карты].cfg из папки mapcfg\
sv_priority 0-7 - уровень приоритета обработки процесса сервера (0 - оставить назначение приоритета за системой)
sv_plugins 0/1 - вкл/выкл поддержку и обработку плагинов
cl_rc_time 3-120 - задержка до переподключения игроков после конца раунда (в секундах)
cl_timeout 0-3600 - задержка до отключения AFK (или вылетевших) игроков (в секундах)
mp_gamemode 0-2 - режим игры
	Возможные значения:
	0 - DeathMatch (DM)
	1 - Team DeathMatch (TDM)
	2 - Capture The Flag (CTF)
mp_automode 0-3 - вкл/выкл автоматическую смену режима игры по префиксу в имени файла карты
	Возможные значения:
	0 - выключена
	1 - включена в обычном режиме
	2 - включена в режиме случайного выбора между TDM и CTF на CTF-картах
	3 - включена в режиме выбора TDM на CTF-картах
mp_ffire 0/1 - вкл/выкл огонь своих в командных режимах
mp_fraglimit 0-250 - лимит фрагов (DM)
mp_scorelimit 0-250 - лимит командных очков (TDM)
mp_caplimit 0-250 - лимит захваченных флагов (CTF)
mp_timelimit 0-9000 - время одного раунда (в секундах)
mp_respawn 0-600 - задержка до респауна убитого игрока (в секундах)
mp_respawn_inv 0-10 - время действия неуязвимости у игрока после респауна (в секундах)
mp_itemrespawn 0-300 - задержка до респауна взятого предмета (в секундах)
mp_items 0/1 - вкл/выкл спаун предметов
mp_powerups 0/1 - вкл/выкл спаун пауерапов
mp_knockback 0/1 - вкл/выкл отбрасывание игроков от взрывов
mp_selfdamage 0/1 - вкл/выкл урон от взрывов своих ракет и кислоты
mp_aimtype 0-2 - указание углов стрельбы вверх и вниз
	Возможные значения:
	0 - 55 градусов вверх и 35 вниз (примерно как в Doom 2D 1.40)
	1 - 45 градусов вверх и 25 вниз (как в Doom 2D 1.30)
	2 - 45 градусов вверх и вниз
mp_itemdrop 0-2 - вкл/выкл выброс оружия игроком после его смерти
	Возможные значения:
	0 - выброс оружия выключен
	1 - выбрасывается только то оружие, которое игрок держал перед смертью
	2 - выбрасывается все оружие, имевшееся в наличии у игрока перед его смертью
mp_weaponstay 0/1 - вкл/выкл режим, когда оружие остается на своем месте после подбора (также отключает вообще выброс оружия игроками после гибели, если он включен)
mp_penalty 0/1 - вкл/выкл вычет фрагов за самоубийства
mp_autobalance 0/1 - вкл/выкл автоматическое распределение игроков по командам
mp_announcer 0/1 - вкл/выкл отправку игрокам комментариев игрового процесса
mp_drop_clear 0-300 - задержка до удаления выброшенного убитым игроком оружия и возвращения флага на базу (в секундах)
mp_shootjthr 0/1 - вкл/выкл столкновение пуль, дроби и ударных волн от снарядов BFG с верхними сторонами ступеней
mp_telefrag 0/1 - вкл/выкл телефраг (убийство игроков при их попадании на место телепортации другого)
mp_waterfrag 0-2 - тип поведения снарядов плазмагана и BFG в воде (в кислотах они будут всегда поглощаться)
	Возможные значения:
	0 - вода лишь замедляет полет снарядов
	1 - вода замедляет полет снарядов, выпущенных с суши. При выстреле же в воде снаряд поглотится, а стрелявшему будет нанесен урон в 10 HP (если это был снаряд плазмагана) или в mp_waterbfgdmg HP (если это был снаряд BFG)
	2 - вода поглощает снаряды. При попадании снаряда в воду образуется ударная волна, идущая с очень быстрой скоростью. В случае попадания на ее пути игрока, ему будет нанесен урон в 10 HP (если это был снаряд плазмагана) или в mp_waterbfgdmg HP (если это был снаряд BFG). Если выстрел был произведен из BFG и в момент его совершения дуло оружия стрелявшего игрока находилось в воде, то он будет моментально убит.
mp_waterbfgdmg 10-1000 - урон от попавшего в воду снаряда BFG при включенном mp_waterfrag
bot_names 0/1 - вкл/выкл загрузку имен ботов из bot_names.txt
bot_chatter 0/1 - вкл/выкл загрузку чат-реплик ботов из bot_chatter.txt
bot_randrate 0-100 - сила преобладания случайности в поведении ботов (в процентах)
bot_userate 0-100 - частота активации ботами триггеров нажатия при прохождении мимо (в процентах)
bot_cowardly 0/1 - вкл/выкл режим, когда бот будет убегать при маленьких HP и менять ракетницу на другое оружие при близком контакте
* * * * * * * * * *

5) "ГОРЯЧИЕ КЛАВИШИ" СЕРВЕРА
В режиме "-nogui" для управления сервером доступны следующие сочетания клавиш:
	CTRL+F1  - добавить бота
	CTRL+F2  - удалить всех ботов
	CTRL+F3  - вкл/выкл ИИ у ботов
	CTRL+F4  - эквивалентно команде "sv_map >" при sv_cycle_maps > 0 (см. выше)
	CTRL+F5  - синхронизироваться с мастерсервером
	CTRL+F6  - перезапаковать карту
	CTRL+F7  - вкл/выкл sv_lan
	CTRL+F8  - перезагрузить autoexec.cfg и файл конфигурации карты (в зависимости от значения sv_autoexec)
	CTRL+F9  - перезагрузить сервер
	CTRL+F10 - перезагрузить сервер без сохранения конфигурации
	CTRL+F11 - выключить сервер
	CTRL+F12 - выключить сервер без сохранения конфигурации
* * * * * * * * * *

6) ЧЕГО НЕ РЕКОМЕНДУЕТСЯ ДЕЛАТЬ
Список тех вещей, которые очень и очень не рекомендуется делать:
 - ставить больше 5-7 ботов (особенно на больших картах);
 - запускать множество других программ, если работает сервер (особенно при наличии большого числа подключенных клиентов);
=*=*=*=*=*=*=*=*=*=
Вот, кажется, и все. Если я что-то забыл или вы нашли какую-либо ошибку/опечатку - сообщите (предварительно найдя способ со мной связаться ;D)
Если вы чего-то не поняли, то либо запуск и поддержание серверов не для вас, либо у меня нет дара объяснять истины (но мы-то все знаем правду, не так ли? :D)

/// 26.03.2014